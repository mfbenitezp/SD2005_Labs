<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab No 2: Using external data – SD2005 - From Sustainable Development to Human Security</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Lab_3.html" rel="next">
<link href="./Lab_1.html" rel="prev">
<link href="./images/StA.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-004e5c2e55366ed020186b77f992f421.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-ae05c84b92d323231e00fe18df12a6d7.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-004e5c2e55366ed020186b77f992f421.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">SD2005 - From Sustainable Development to Human Security</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./intro.html"> 
<span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./DataSources.html"> 
<span class="menu-text">Data Sources</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="./SD2005---From-Sustainable-Development-to-Human-Security.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Lab_2.html">Lab No 2: Using external data</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About this site</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Lab_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab No 1: Getting Started with ArcGIS Online</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Lab_2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Lab No 2: Using external data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Lab_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab No 3: Mapping Meaningful Places in Your Community</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Lab_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab No 4: Examine Global Poverty Using UN SDGs</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Lab_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Lab No 5: Build an Interactive Dashboard</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./DataSources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Sources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview"><strong>Overview</strong></a></li>
  <li><a href="#download-and-examine-the-data" id="toc-download-and-examine-the-data" class="nav-link" data-scroll-target="#download-and-examine-the-data">Download and Examine the Data</a></li>
  <li><a href="#create-a-map-layer" id="toc-create-a-map-layer" class="nav-link" data-scroll-target="#create-a-map-layer">Create a Map Layer</a></li>
  <li><a href="#change-the-basemap-and-layer-style" id="toc-change-the-basemap-and-layer-style" class="nav-link" data-scroll-target="#change-the-basemap-and-layer-style">Change the Basemap and Layer Style</a></li>
  <li><a href="#configure-pop-ups-and-view-a-table" id="toc-configure-pop-ups-and-view-a-table" class="nav-link" data-scroll-target="#configure-pop-ups-and-view-a-table">Configure Pop-ups and View a Table</a></li>
  <li><a href="#style-the-layer-in-another-way" id="toc-style-the-layer-in-another-way" class="nav-link" data-scroll-target="#style-the-layer-in-another-way">Style the Layer in Another Way</a></li>
  <li><a href="#update-the-item-details" id="toc-update-the-item-details" class="nav-link" data-scroll-target="#update-the-item-details">Update the Item Details</a></li>
  <li><a href="#final-steps" id="toc-final-steps" class="nav-link" data-scroll-target="#final-steps">Final Steps:</a></li>
  <li><a href="#adding-other-data-types" id="toc-adding-other-data-types" class="nav-link" data-scroll-target="#adding-other-data-types">Adding other data types</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab No 2: Using external data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="overview" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="overview"><strong>Overview</strong></h2>
<p>In this lab you will create your second Web map using ArcGIS Online. Now you are familiar with the platform, the idea of this tutorial is you learn how to create another web map using external data in ArcGIS Online. Add a data layer to a new map and start visualizing patterns. You will see how to add new data from external sources, format your charts, and then be able to filter and structure your map to only read and illustrate what you need.</p>
<p><strong>Estimated time of completion:</strong> 45 Minutes</p>
<hr>
</section>
<section id="download-and-examine-the-data" class="level2">
<h2 class="anchored" data-anchor-id="download-and-examine-the-data">Download and Examine the Data</h2>
<p>First, you will download a .csv file that contains general information about public high schools in Detroit, Michigan.</p>
<ol type="1">
<li><p>Download the <a href="https://arcgis.com/sharing/rest/content/items/66d7523c560c4ca894b1acf70a2f8005/data">DetroitSchoolCharacteristics.csv</a> file to your computer and open it in Microsoft Excel or another spreadsheet program like Google Sheets.</p>
<p><img src="images/clipboard-1256318476.png" class="img-fluid"></p></li>
</ol>
<p>You will see a table with columns of longitude, latitude, school name, total students eligible for free and reduced meal plans, and race and ethnicity data. This data comes from the National Center for Education Statistics’ (NCES) Education Demographic and Geographic Estimate (EDGE) program.</p>
<p>It’s hard to visualize where these schools are located or any patterns in the information from the table alone. Making a map is a better way to understand your data than viewing it as a table, so that’s your next task.</p>
<blockquote class="blockquote">
<p><strong>Note:</strong> You can find data about public schools across the United States in the <a href="https://arcgis.com/home/item.html?id=5cd68dad64f641f6b847367493e92657">Public School Characteristics - Current</a> layer.</p>
</blockquote>
<ol start="2" type="1">
<li>Close the .csv file.</li>
</ol>
</section>
<section id="create-a-map-layer" class="level2">
<h2 class="anchored" data-anchor-id="create-a-map-layer">Create a Map Layer</h2>
<p>Layers are the way geographic data is organized and combined to create maps. For example, a map may consist of a roads layer, a lakes layer, and buildings layer. These layers are also the basis for geographic analysis to aid in decision making. You will create a map layer by adding your .csv file to an empty map.</p>
<ol type="1">
<li><p>Sign in to your <a href="https://uostandrews.maps.arcgis.com/">ArcGIS account</a> using your university credentials.</p></li>
<li><p>On the ribbon, click the <strong>Map</strong> tab.</p></li>
<li><p>In Map Viewer, in the Layers pane, click the arrow next to the <strong>Add</strong> button and click <strong>Add layer from file</strong>.</p>
<p><img src="images/clipboard-1509742054.png" class="img-fluid"></p></li>
</ol>
<p>The Add Layer window appears.</p>
<p><img src="images/clipboard-2954190588.png" class="img-fluid"></p>
<ol start="4" type="1">
<li>Drag the DetroitSchoolCharacteristics.csv file to the Add Layer window.</li>
</ol>
<blockquote class="blockquote">
<p><strong>Tip:</strong> Alternatively, click <strong>Your device</strong> and browse to the .csv file.</p>
</blockquote>
<ol start="5" type="1">
<li>For <strong>How would you like to add this file</strong>, choose <strong>Create a hosted feature layer and add it to the map</strong>. Click <strong>Next</strong>.</li>
</ol>
<p>A list of fields appears. Map layers consist of spatial and tabular information. The table will contain the same columns—also called fields or attributes—as the .csv file. On this page, you can choose which fields from the .csv file you want to include, provide display names, and data type information.</p>
<p>The software automatically detected the fields and produced default display name and data types. This page is an opportunity for you to review that the automatic assignments are accurate.</p>
<p><img src="images/clipboard-2158911334.png" class="img-fluid"></p>
<p>In this example, you will choose to include all the fields, so you won’t adjust the check boxes.</p>
<p><strong>Display name</strong> sets a nickname or shortened name of the field name that is more readily understandable to others. Field names cannot include spaces or numbers, so sometimes you may want these in the display name. Setting Display name allows you to provide meaningful names without changing the Field name text.</p>
<p><strong>Type</strong> describes the data you will store in the field:</p>
<ul>
<li><p><strong>Date</strong>—Date and time.</p></li>
<li><p><strong>Double</strong>—Numbers with decimal places.</p></li>
<li><p><strong>Integer</strong>—Whole numbers from -2,147,483,648 to 2,147,483,647 (long integer).</p></li>
<li><p><strong>Big Integer</strong>—Whole numbers between -(2^53) and 2^53.</p></li>
<li><p><strong>String</strong>—Any sequence of characters. The default length is 256 characters.</p></li>
</ul>
<p>You will accept all the default settings and continue.</p>
<ol start="6" type="1">
<li>Click <strong>Next</strong>.</li>
</ol>
<p>The Location settings page appears. Spatial information for the layer will be derived from the Latitude and Longitude columns in the .csv file.</p>
<blockquote class="blockquote">
<p><strong>Note:</strong> If your table contains the names or addresses of locations (like Paris or 15 Central St.&nbsp;Bethlehem, PA) instead of latitude and longitude fields, try this tutorial about geocoding data: <a href="https://learn.arcgis.com/en/projects/convert-a-list-of-historic-places-into-a-map/arcgis-online/">Convert a list of historic places into a map</a>.</p>
</blockquote>
<ol start="7" type="1">
<li><p>Click <strong>Next</strong>.</p></li>
<li><p>For <strong>Title</strong>, type “Detroit high schools” followed by your name or initials (for example “Detroit high school (Your name)”).</p></li>
</ol>
<blockquote class="blockquote">
<p><strong>Note:</strong> You cannot create two layers in an ArcGIS organization with the same name. Adding your initials to a layer name ensures that other people in your organization can also complete this tutorial. Once a layer has been created, you can rename it in the map to remove your initials, which will not affect the name of the underlying data layer.</p>
</blockquote>
<ol start="9" type="1">
<li>Click <strong>Create and add to map</strong>.</li>
</ol>
<p><img src="images/clipboard-3132353095.png" class="img-fluid"></p>
<p>The new layer appears on the map. The map displays the locations of the schools listed in the .csv file. Each school is considered a feature in the layer. You have access to the descriptive information, or attributes, by viewing pop-ups for features on the map.</p>
<ol start="10" type="1">
<li>On the map, click any circle.</li>
</ol>
<p>A pop-up window appears with information about the school from the layer’s table.</p>
<ol start="11" type="1">
<li><p>Close the pop-up.</p>
<p><img src="images/clipboard-3299587967.png" class="img-fluid"></p></li>
</ol>
<p>Before you continue, you will save the map.</p>
<ol start="12" type="1">
<li><p>In the Contents pane, click <strong>Save and open</strong> and click <strong>Save as</strong>.</p>
<p><img src="images/clipboard-4113916423.png" class="img-fluid"></p></li>
<li><p>In the Save map window, enter the following:</p>
<ul>
<li><p>For <strong>Title</strong>, type “Public high schools in Detroit”.</p></li>
<li><p>For <strong>Summary</strong>, type “Map of public high schools and student body race and ethnicity data in Detroit, Michigan”.</p>
<p><img src="images/clipboard-1085109685.png" class="img-fluid"></p></li>
</ul></li>
<li><p>Click <strong>Save</strong>.</p></li>
</ol>
</section>
<section id="change-the-basemap-and-layer-style" class="level2">
<h2 class="anchored" data-anchor-id="change-the-basemap-and-layer-style">Change the Basemap and Layer Style</h2>
<p>Maps in ArcGIS Online consist of layers. You added the Detroit high schools layer, but the map also has a basemap layer by default. Next, you’ll change the basemap layer and the style of the feature layer.</p>
<ol type="1">
<li><p>On the Contents (dark) toolbar, click <strong>Basemap</strong>.</p>
<p><img src="images/clipboard-1084364526.png" class="img-fluid"></p></li>
</ol>
<p>The Basemap pane appears. The Topographic basemap is selected. This basemap looks good but is better suited for a reference map. You’ll choose a more minimally designed basemap so it does not distract from the school data.</p>
<ol start="2" type="1">
<li>In the Basemap pane, click <strong>Light Gray Canvas</strong>. Close the Basemap pane.</li>
</ol>
<blockquote class="blockquote">
<p><strong>Note:</strong> You may see different basemaps depending on the configuration of your organization. If the Light Gray Canvas basemap is not available, skip to the next step without changing the basemap.</p>
</blockquote>
<p><img src="images/clipboard-1641839181.png" class="img-fluid"></p>
<p>Next, you’ll configure the high school layer’s symbols so they are sized based on the number of students at each school eligible for free and reduced meal plan programs.</p>
<ol start="3" type="1">
<li>On the Settings (light) toolbar, click <strong>Styles</strong>.</li>
</ol>
<blockquote class="blockquote">
<p><strong>Note:</strong> If the Settings toolbar is unavailable, on the Contents toolbar, click <strong>Layers</strong>. In the Layers pane, click <strong>Detroit high schools</strong> to select the layer.</p>
</blockquote>
<p><img src="images/clipboard-513900653.png" class="img-fluid"></p>
<p>The Styles pane appears. Currently, the style is based on the data’s location only. You’ll configure the symbols to convey both location and one of the data’s attributes.</p>
<ol start="4" type="1">
<li><p>In the Styles pane, click the <strong>Field</strong> button.</p>
<p><img src="images/clipboard-1156307207.png" class="img-fluid"></p></li>
</ol>
<p>You will choose to style the map by the number of students at each high school who are eligible for free and reduced price meal (FRPM).</p>
<p><a href="https://www.fns.usda.gov/cn/fr-020923">Eligibility for FRPM</a> is set by U.S. Department of Agriculture Child Nutrition Programs and is based on Federal poverty guidelines issued by the Department of Health and Human Services. The number or percent of students eligible for FRPM is often used as an equity indicator to understand the needs of school-aged children.</p>
<ol start="5" type="1">
<li>On the Select fields menu, choose <strong>Total of free lunch and reduced-price lunch eligible</strong> and click <strong>Add</strong>.</li>
</ol>
<p><img src="images/clipboard-1391853616.png" class="img-fluid"></p>
<p>The options under Pick a style update to reflect choices that are suitable for the Total of free lunch and reduced price lunch eligible field. <strong>Counts and Amounts (size)</strong> is selected and the map updates to reflect this style. This style reveals some new patterns in the data. The larger the circle, the more students are eligible for FRPM at the school.</p>
<ol start="6" type="1">
<li><p>On the <strong>Counts and Amounts (Size)</strong> card, click <strong>Style options</strong>.</p>
<p><img src="images/clipboard-2540244152.png" class="img-fluid"></p></li>
<li><p>In the Counts and Amounts (size) pane, for <strong>Symbol style</strong>, click the current symbol.</p>
<p><img src="images/clipboard-483019388.png" class="img-fluid"></p></li>
</ol>
<p>The Symbol style window appears. You’ll adjust the symbol’s properties so circles can be seen even when they are overlapping.</p>
<ol start="8" type="1">
<li><p>Set <strong>Fill transparency</strong> to 25. Set <strong>Outline transparency</strong> to 0.</p>
<p><img src="images/clipboard-2836802962.png" class="img-fluid"></p></li>
</ol>
<p>The symbols on the map update. It is now easier to see overlapping circles.</p>
<ol start="9" type="1">
<li><p>In the Symbol style window, for <strong>Fill color</strong>, click the current color. In the Select color window, for <strong>#</strong>, type <strong>0070FF</strong> and press Enter.</p>
<p><img src="images/clipboard-1456565185.png" class="img-fluid"></p></li>
</ol>
<p>The color of the map symbols changes to blue.</p>
<ol start="10" type="1">
<li><p>Click <strong>Done</strong> in the Select color window, the Style options pane, and the Styles pane.</p>
<p><img src="images/clipboard-1048463262.png" class="img-fluid"></p></li>
</ol>
<p>The map shows the number of students at each high school who are eligible for FRPM programs. The schools with more students who are eligible for FRPM programs are represented by larger circles. Schools represented with smaller circles have fewer students who are eligible for FRPM programs.</p>
<ol start="11" type="1">
<li>On the Contents pane, click <strong>Save and open</strong> and click <strong>Save</strong> to save your map.</li>
</ol>
</section>
<section id="configure-pop-ups-and-view-a-table" class="level2">
<h2 class="anchored" data-anchor-id="configure-pop-ups-and-view-a-table">Configure Pop-ups and View a Table</h2>
<p>The pop-up that you viewed earlier displayed all the attributes for the features, which may be unnecessary for your map. You can configure pop-ups to show only those attributes that are important to your map. In this example, you want to show only the name of the school and the number of students eligible for FRPM programs.</p>
<ol type="1">
<li><p>In the Layers pane, ensure that the <strong>Detroit high schools</strong> layer is selected.</p></li>
<li><p>On the Settings toolbar, click <strong>Pop-ups</strong>.</p></li>
</ol>
<p>The Pop-ups pane appears and a sample pop-up appears on the map. The pop-up’s title contains the name of the layer and the name of the school. This title is unnecessary for your map, so you’ll remove it.</p>
<ol start="3" type="1">
<li><p>In the Pop-ups pane, click <strong>Title</strong>. Erase the text in the box.</p>
<p><img src="images/clipboard-1916526302.png" class="img-fluid"></p></li>
</ol>
<p>The title text disappears from the sample pop-up. You’ll replace the list of fields with a sentence that includes the relevant information.</p>
<ol start="4" type="1">
<li><p>Next to <strong>Fields list</strong>, click the <strong>Options</strong> button. Click <strong>Delete</strong>.</p>
<p><img src="images/clipboard-3782047839.png" class="img-fluid"></p></li>
<li><p>Click <strong>Add content</strong> and click <strong>Text</strong>.</p></li>
<li><p>In the text editing window, type <strong>{</strong>. In the menu that appears, scroll almost to the bottom and click <strong>School name</strong>.</p>
<p><img src="images/clipboard-4127750767.png" class="img-fluid"></p></li>
</ol>
<p>The School_name field was one of the fields in the .csv file you used to create the feature layer. By setting the dynamic text to this field, the pop-up that displays for each school point will display the corresponding School_name field.</p>
<ol start="7" type="1">
<li>After <strong>{School_name}</strong>, type <strong>enrolled {Total_elementary_secondary_stud} students during the 2019-2020 school year.</strong></li>
</ol>
<p>You can add fields by typing their names inside of curly brackets or by choosing them from the list that appears when you type a curly bracket.</p>
<ol start="8" type="1">
<li><p>Press Enter to start a new paragraph. Type <strong>{Total_of_free_lunch_and_reduced} of those students were eligible for the free and reduced meal plan program.</strong></p></li>
<li><p>Use the <strong>Bold</strong> button on the toolbar to add bold formatting to <strong>{School_name}</strong>, <strong>{Total_elementary_secondary_stud}</strong>, and <strong>{Total_of_free_lunch_and_reduced}</strong>.</p>
<p><img src="images/clipboard-347892411.png" class="img-fluid"></p></li>
<li><p>Click <strong>OK</strong>.</p></li>
</ol>
<p>The preview pop-up replaces the field names with the attribute values of one of the features.</p>
<p><img src="images/clipboard-3182088464.png" class="img-fluid"></p>
<p>All the fields still exist in the data table, but they don’t display in the pop-up. You can modify the contents of the pop-up at any time. You can still see all the attributes by showing the table.</p>
<ol start="11" type="1">
<li><p>In the Layers pane, next to <strong>Detroit high schools</strong>, click the <strong>Options</strong> button. Click <strong>Show table</strong>.</p>
<p><img src="images/clipboard-2579748984.png" class="img-fluid"></p></li>
</ol>
<p>The layer’s table appears below the map.</p>
<ol start="12" type="1">
<li><p>Review the data in the table. Close the table when you are finished.</p></li>
<li><p>Close the Pop-ups pane.</p></li>
<li><p>Save the map.</p></li>
</ol>
</section>
<section id="style-the-layer-in-another-way" class="level2">
<h2 class="anchored" data-anchor-id="style-the-layer-in-another-way">Style the Layer in Another Way</h2>
<p>Your goal is to identify which schools would most benefit from more after-school programs. You have styled the school data by the number of students eligible for FRPM. But there are other aspects of equity that are also important to consider. Due to historic and present-day practices, race and ethnicity can play a critical role in how many resources and opportunities students have at their schools. Practices like segregation in schools and neighborhoods have widened inequities in resource allocation to schools.</p>
<p>Next, you will style the schools to show the race and ethnicity of the student body. First, you will rename the layer you had previously styled to show FRPM eligibility.</p>
<ol type="1">
<li><p>In the Layers pane, for the <strong>Detroit high schools</strong> layer, click the <strong>Options</strong> button and click <strong>Rename</strong>.</p></li>
<li><p>For <strong>Title</strong>, type <strong>Students FRPM eligible</strong> and click <strong>OK</strong>.</p></li>
</ol>
<p>Next, you will make a copy of the layer.</p>
<ol start="3" type="1">
<li><p>For the <strong>Students FRPM eligible</strong> layer, click the <strong>Options</strong> button and click <strong>Duplicate</strong>.</p>
<p><img src="images/clipboard-528934866.png" class="img-fluid"></p></li>
<li><p>Rename the copied layer to be <strong>Race and ethnicity data</strong>.</p></li>
<li><p>Next to <strong>Students FRPM eligible</strong>, click the <strong>Visibility</strong> button to hide the layer on the map.</p></li>
</ol>
<p>Next, you will style the Race and ethnicity data layer with race and ethnicity attributes.</p>
<ol start="6" type="1">
<li><p>Ensure that the <strong>Race and ethnicity data</strong> layer is selected in the Layers pane. In the Styles pane, remove the <strong>Total FRPM eligible</strong> attribute.</p>
<p><img src="images/clipboard-1774801037.png" class="img-fluid"></p></li>
<li><p>Click the <strong>Field</strong> button.</p></li>
<li><p>In the Add fields window, check the following fields:</p>
<ul>
<li><p>All students - American Indian/Alaska Native</p></li>
<li><p>All students - Asian</p></li>
<li><p>All Students - Black or African American</p></li>
<li><p>All Students - Native Hawai’ian or Other Pacific Islander</p></li>
<li><p>All Students - Hispanic</p></li>
<li><p>All Students - Two or More Races</p></li>
<li><p>All Students - White</p>
<p><img src="images/clipboard-1639153168.png" class="img-fluid"></p></li>
</ul></li>
<li><p>Click <strong>Add</strong>.</p></li>
<li><p>Under <strong>Pick a style</strong>, click the <strong>Charts and Size</strong> style.</p>
<p><img src="images/clipboard-830043279.png" class="img-fluid"></p></li>
</ol>
<p>The layer style updates.</p>
<p><img src="images/clipboard-2259718611.png" class="img-fluid"></p>
<p>The map now shows pie charts of the student body’s race and ethnicity categories. The sizes of the pie charts represent the number of students at the schools.</p>
<ol start="11" type="1">
<li>Save the map.</li>
</ol>
</section>
<section id="update-the-item-details" class="level2">
<h2 class="anchored" data-anchor-id="update-the-item-details">Update the Item Details</h2>
<p>Your map now tells a story about the locations and some socioeconomic attributes of public high schools. For example, the school with the largest number of students eligible for FRPM programs is Western International High School in southwest Detroit. Many of the schools have a high percentage of students who identify as Black or African American. In southwest Detroit, there are more schools with higher percentages of Hispanic or Latino students.</p>
<p>By saving your map, you also created a corresponding item page that contains information, actions, options, and settings for the map.</p>
<ol type="1">
<li><p>On the Contents toolbar, click <strong>Map properties</strong>. In the Map Properties pane, click <strong>Item details</strong>.</p>
<p><img src="images/clipboard-4270939302.png" class="img-fluid"></p></li>
</ol>
<p>Your map’s item page opens in a new browser tab. The item details are missing important attribution and descriptive information that you will fill in before you share the map. For example, you must give credit to the data providers.</p>
<ol start="2" type="1">
<li><p>Scroll to the bottom of the page. Next to <strong>Credits (Attribution)</strong>, click <strong>Edit</strong>.</p></li>
<li><p>Type <strong>National Center for Education Statistics’ (NCES) Education Demographic and Geographic Estimates (EDGE)</strong>. Click <strong>Save</strong>.</p></li>
<li><p>Close the item page’s tab.</p></li>
</ol>
</section>
<section id="final-steps" class="level2">
<h2 class="anchored" data-anchor-id="final-steps">Final Steps:</h2>
<p>Well Done! You have now completed all the steps for this lab, where you (in theory) created your <strong>second Web Map</strong> using <strong>ArcGIS Online</strong>. Before moving on, make sure to:</p>
<ol type="1">
<li><p><strong>Take a screenshot</strong> of your final web map, ensuring your <strong>full screen is visible</strong>, including the <strong>date and time</strong>. This screenshot will be required for your report ( see all the instructions in the handbook)</p></li>
<li><p><strong>For the Part B of this lab in your report. Replicate the process independently</strong> by applying the same skills you practised in this lab, but using <strong>spatial data from Scotland or the UK</strong> ( see the Data sources sections for a comprehensive list of data sources).</p></li>
</ol>
<p>In the original lab, you have created a web map with a .csv file of school location and demographic data. For your <strong>independent spatial analysis</strong>, you can choose a different theme and dataset (e.g.&nbsp;healthcare access, education, environmental risk), as long as you also:</p>
<ul>
<li><p>Use again <strong>ArcGIS Online</strong> using your university credentials. <strong>Meet and work with your classmate to define which account want to use . You must only report one independent analysis results.</strong></p></li>
<li><p>Apply the same techniques learned in this lab (e.g.&nbsp;adding external data (excel), symbolising data, filtering, configuring pop-ups, etc).</p></li>
<li><p>And create a web map with a <strong>clear purpose</strong> relevant to a real-world issue in Scotland or the UK.</p></li>
</ul>
<p>This additional task is an opportunity to improve your technical skills, explore new datasets, and demonstrate your ability to adapt spatial analysis methods to new contexts.</p>
<hr>
</section>
<section id="adding-other-data-types" class="level2">
<h2 class="anchored" data-anchor-id="adding-other-data-types">Adding other data types</h2>
<p>There are several maybe hundreds of spatial data types, and often you will find data in formats that you even would not know about it, fortunately ArcGIS Online and other Cloud-GIS platform are supporting connections to most of the spatial data formats. Here are some resources to help you understand how to connect and manage data from not the usual <code>.shapefile</code> or <code>.csv</code> formats.</p>
<ol type="1">
<li><a href="https://youtu.be/B-6AoeYQnmk?si=JHdLU_ct09GE_3Qy">ArcGIS Online: Managing Data</a></li>
</ol>
<div class="only-html">
<iframe width="560" height="315" src="https://www.youtube.com/embed/B-6AoeYQnmk?si=6YGdHPl5gUwhiAk1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</div>
<ol start="2" type="1">
<li><a href="https://doc.arcgis.com/en/arcgis-online/manage-data/add-items.htm">Add Items in ArcGIS Online</a></li>
</ol>
<hr>
<p>This tutorial is inspired from ArcGIS Online Learning resources available at:</p>
<p><a href="https://learn.arcgis.com/en/projects/create-a-map/" class="uri">https://learn.arcgis.com/en/projects/create-a-map/</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Lab_1.html" class="pagination-link" aria-label="Lab No 1: Getting Started with ArcGIS Online">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Lab No 1: Getting Started with ArcGIS Online</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Lab_3.html" class="pagination-link" aria-label="Lab No 3: Mapping Meaningful Places in Your Community">
        <span class="nav-page-text">Lab No 3: Mapping Meaningful Places in Your Community</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>